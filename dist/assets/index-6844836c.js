import{n as o,p as i}from"./index-26fc2b30.js";var c=function(){var r=this,a=this,l=a.$createElement,e=a._self._c||l;return e("t-card",{attrs:{bordered:!1}},[e("t-form",{ref:"form",attrs:{data:a.anaformData,rules:a.FORM_RULES,"label-align":"top","label-width":100},on:{submit:a.onSubmit}},[e("div",{staticClass:"form-basic-container"},[e("div",{staticClass:"form-basic-item"},[e("div",{staticClass:"form-basic-container-title"},[a._v("新建数据")]),e("t-alert",{staticStyle:{"margin-bottom":"32px"},attrs:{theme:"info",title:"数据上传格式建议:",message:`建议使用CSV或Execel格式上传数据。
        如果数据包含对象和数组，则JSON格式更适合。`,close:""}}),e("t-row",{staticClass:"row-gap",attrs:{gutter:[16,24]}},[e("t-col",{attrs:{span:6}},[e("t-form-item",{attrs:{label:"数据名称",name:"ananame"}},[e("t-input",{style:{width:"322px"},attrs:{placeholder:""},model:{value:a.anaformData.ananame,callback:function(t){a.$set(a.anaformData,"ananame",t)},expression:"anaformData.ananame"}})],1)],1),e("t-col",{attrs:{span:6}},[e("t-form-item",{attrs:{label:"实验文件上传",name:"anafile"}},[[e("div",{staticClass:"tdesign-demo-upload"},[e("div",{staticStyle:{width:"360px"}},[e("t-upload",{attrs:{action:"https://service-bv448zsw-1257786608.gz.apigw.tencentcs.com/api/upload-demo",tips:a.tips,theme:"file-input",placeholder:"未选择文件"},on:{fail:a.handleFail,success:a.onSuccess},model:{value:a.anaformData.anafile,callback:function(t){a.$set(a.anaformData,"anafile",t)},expression:"anaformData.anafile"}})],1)])]],2)],1)],1),e("div",{staticClass:"form-basic-container-title"},[a._v("数据绑定")]),e("t-row",{staticClass:"row-gap",attrs:{gutter:[16,24]}},[e("t-col",{attrs:{span:6}},[e("t-form-item",{attrs:{label:"所属设备",name:"anadev"}},[e("t-select",{staticClass:"demo-select-base",style:{width:"322px"},attrs:{placeholder:"",clearable:""},model:{value:a.anaformData.anadev,callback:function(t){a.$set(a.anaformData,"anadev",t)},expression:"anaformData.anadev"}},a._l(a.devOptions,function(t,s){return e("t-option",{key:s,attrs:{value:t.value,label:t.label}},[a._v(" "+a._s(t.label)+" ")])}),1)],1)],1),e("t-col",{attrs:{span:6}},[e("t-form-item",{attrs:{label:"所属实验",name:"anaexp"}},[e("t-select",{staticClass:"demo-select-base",style:{width:"322px"},attrs:{placeholder:"",clearable:""},model:{value:a.anaformData.anaexp,callback:function(t){a.$set(a.anaformData,"anaexp",t)},expression:"anaformData.anaexp"}},a._l(a.devOptions,function(t,s){return e("t-option",{key:s,attrs:{value:t.value,label:t.label}},[a._v(" "+a._s(t.label)+" ")])}),1)],1)],1)],1),e("div",{staticClass:"form-basic-container-title"},[a._v("解析与预警")]),e("t-row",{staticClass:"row-gap",attrs:{gutter:[16,24]}},[e("t-col",{attrs:{span:6}},[e("t-form-item",{attrs:{label:"解析规则",name:"anapre"}},[e("t-select",{staticClass:"demo-select-base",style:{width:"322px"},attrs:{placeholder:"",clearable:""},model:{value:a.anaformData.anapre,callback:function(t){a.$set(a.anaformData,"anapre",t)},expression:"anaformData.anapre"}},a._l(a.devOptions,function(t,s){return e("t-option",{key:s,attrs:{value:t.value,label:t.label}},[a._v(" "+a._s(t.label)+" ")])}),1)],1)],1),e("t-col",{attrs:{span:6}},[e("t-form-item",{attrs:{label:"预警规则",name:"anawarn"}},[e("t-select",{staticClass:"demo-select-base",style:{width:"322px"},attrs:{placeholder:"",clearable:""},model:{value:a.anaformData.anawarn,callback:function(t){a.$set(a.anaformData,"anawarn",t)},expression:"anaformData.anawarn"}},a._l(a.devOptions,function(t,s){return e("t-option",{key:s,attrs:{value:t.value,label:t.label}},[a._v(" "+a._s(t.label)+" ")])}),1)],1)],1),e("t-col",{attrs:{span:6}},[e("t-form-item",{attrs:{label:"备注",name:"anainfo"}},[e("t-textarea",{attrs:{height:124,placeholder:"请输入数据描述，最多200字",maxlength:200},model:{value:a.anaformData.anainfo,callback:function(t){a.$set(a.anaformData,"anainfo",t)},expression:"anaformData.anainfo"}})],1)],1)],1)],1)]),e("div",{staticClass:"form-submit-container"},[e("div",{staticClass:"form-submit-sub"},[e("t-button",{staticClass:"form-submit-confirm",attrs:{theme:"primary",type:"submit"}},[a._v(" 确认提交 ")]),e("t-button",{staticClass:"form-submit-cancel",attrs:{type:"reset",theme:"default",variant:"base"},on:{click:function(){return r.$router.push("/analysis/upload")}}},[a._v(" 取消 ")])],1)])])],1)},m=[];const u={ananame:"",anadev:"",anaexp:"",anafile:[],anapre:"",anawarn:"",anainfo:""},p={ananame:[{required:!0,message:"请输入数据名称",type:"error"}],anadev:[{required:!0,message:"请选择数据所属设备",type:"error"}],anaexp:[{required:!0,message:"请选择数据所属实验",type:"error"}],anafile:[{required:!0,message:"请上传数据文件",type:"error"}],anapre:[{required:!1}],anawarn:[{required:!1}],anainfo:[{required:!1}]},f={name:"FormBase",data(){return{files:[],tips:"请上传csv或execel格式，大小在10M以内",prefix:i,stepSuccess:!0,anaformData:{...u},FORM_RULES:p,devOptions:[{label:"Device1",value:"1"},{label:"Device2",value:"2"},{label:"Device3",value:"3"}],textareaValue:"",rules:{ananame:[{required:!0,message:"请输入数据名称",type:"error"}],anadev:[{required:!0,message:"请选择数据所属设备",type:"error"}],anaexp:[{required:!0,message:"请选择数据所属实验",type:"error"}],anafile:[{required:!0,message:"请上传数据文件",type:"error"}],anapre:[{required:!1}],anawarn:[{required:!1}],anainfo:[{required:!1}]}}},methods:{handleFail({file:r}){this.$message.error(`文件 ${r.name} 上传失败`)},onSuccess(){this.tips=""},onSubmit({validateResult:r}){r===!0&&(this.$message.success("新建数据成功"),this.$router.push("/analysis/upload/datadetail"))}}},n={};var d=o(f,c,m,!1,v,"2571b4ac",null,null);function v(r){for(let a in n)this[a]=n[a]}const _=function(){return d.exports}();export{_ as default};
