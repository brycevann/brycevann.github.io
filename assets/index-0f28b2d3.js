import{V as o,n as l}from"./index-26fc2b30.js";const r=o.extend({name:"ListBase",components:{},data(){return{showChildPage:!1,anaData:[],tableLayout:"fixed",leftFixedColumn:1,rightFixedColumn:1,size:"medium",bordered:!0,showHeader:!0,anaColumns:[{colKey:"NO.",title:"NO.",fixed:"left"},{colKey:"ana-name",title:"设备名"},{colKey:"ana-dev",title:"设备负责人"},{colKey:"ana-exp",title:"设备状态"},{colKey:"ana-pre-rule",title:"设备组"},{colKey:"ana-warn-rule",title:"设备标签"},{fixed:"right",colKey:"op",title:"操作"}],pagination:{defaultPageSize:10,defaultCurrent:1,showPageSize:!1},searchValue:"",confirmVisible:!1,deleteIdx:-1}},computed:{confirmBody(){var t;if(this.deleteIdx>-1){const{name:e}=(t=this.data)==null?void 0:t[this.deleteIdx];return`删除后，${e}的所有设备信息将被清空，且无法恢复`}return""},offsetTop(){return this.$store.state.setting.isUseTabsRouter?48:0}},created(){this.$request.get("/src/data/AnaData.json").then(t=>{this.anaData=t.data.record,this.pagination.total=t.data.total,console.log(this.devData)})},methods:{getContainer(){return document.querySelector(".tdesign-starter-layout")},rehandlePageChange(t,e){console.log("分页变化",t,e)},rehandleSelectChange(t){this.selectedRowKeys=t},rehandleChange(t,e){console.log("统一Change",t,e)},handleClickDetail(){this.$router.push("/detail/base")},handleSetupContract(){this.$router.push("/form/base")},handleClickDelete(t){this.deleteIdx=t.rowIndex,this.confirmVisible=!0},onConfirmDelete(){this.data.splice(this.deleteIdx,1),this.pagination.total=this.data.length;const t=this.selectedRowKeys.indexOf(this.deleteIdx);t>-1&&this.selectedRowKeys.splice(t,1),this.confirmVisible=!1,this.$message.success("删除成功"),this.resetIdx()},onCancel(){this.resetIdx()},resetIdx(){this.deleteIdx=-1}}});var c=function(){var t=this,e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("t-card",{staticClass:"list-card-container",attrs:{bordered:!1}},[a("div",{staticClass:"content-header"},[a("h1",{staticClass:"content-header-title"},[e._v("上传日志")]),a("t-button",{on:{click:function(){return t.$router.push("/analysis/upload/anaform")}}},[e._v("新建数据")])],1),a("t-row",{attrs:{justify:"space-between"},scopedSlots:e._u([{key:"suffix-icon",fn:function(){return[a("search-icon",{attrs:{size:"20px"}})]},proxy:!0}])},[a("div",{staticClass:"left-operation-container"})]),a("div",{staticClass:"table-container"},[a("t-table",{staticClass:"dev-table",attrs:{horizontalScrollAffixedBottom:"",hover:"",paginationAffixedBottom:"",tableLayout:"auto","row-key":"index",data:e.anaData,pagination:e.pagination,columns:e.anaColumns,cellEmptyContent:"-"},on:{"row-click":function(){return t.$router.push("/analysis/upload/datadetail")}},scopedSlots:e._u([{key:"op",fn:function(n){return[a("a",{staticClass:"t-button-link",on:{click:function(f){return e.handleClickDelete(n)}}},[e._v("删除")])]}}])})],1)],1),a("t-dialog",{attrs:{header:"确认删除当前所选设备？",body:e.confirmBody,visible:e.confirmVisible,onCancel:e.onCancel},on:{"update:visible":function(n){e.confirmVisible=n},confirm:e.onConfirmDelete}})],1)},d=[];const i={};var u=l(r,c,d,!1,h,"2f12164f",null,null);function h(t){for(let e in i)this[e]=i[e]}const p=function(){return u.exports}();export{p as default};
